<div class="close-container">
  <button
    [disabled]="loadingMutation.isLoading$ | async"
    mat-dialog-close
    mat-icon-button
  >
    <ng-icon name="ionClose" size="30"></ng-icon>
  </button>
</div>
<form [formGroup]="linkForm" (ngSubmit)="editLink()">
  <div class="inputs-container">
    <div class="l4b-input">
      <label>Titolo</label>
      <mat-form-field floatLabel="never">
        <input
          matInput
          type="text"
          formControlName="title"
          placeholder="Inserisci qui il titolo"
        />
      </mat-form-field>
    </div>
    <div class="l4b-input">
      <label>Sottotitolo</label>
      <mat-form-field floatLabel="never">
        <input
          matInput
          type="text"
          formControlName="subtitle"
          placeholder="Inserisci qui il sottotitolo"
        />
      </mat-form-field>
    </div>
    <div class="l4b-input">
      <label>URL</label>
      <mat-form-field floatLabel="never">
        <input
          matInput
          type="text"
          formControlName="url"
          placeholder="Inserisci qui l'URL"
        />
      </mat-form-field>
    </div>
  </div>
  <div class="buttons-container">
    <button
      [disabled]="loadingMutation.isLoading$ | async"
      type="button"
      mat-flat-button
      color="warn"
      (click)="deleteLink()"
    >
      Elimina
    </button>
    <button
      type="submit"
      mat-flat-button
      color="primary"
      [disabled]="
        linkForm.pristine ||
        linkForm.invalid ||
        (loadingMutation.isLoading$ | async)
      "
    >
      Salva
      <ng-icon
        [ngClass]="{ spin: (loadingMutation.isLoading$ | async) }"
        [name]="(loadingMutation.isLoading$ | async) ? 'cssSpinner' : 'ionSave'"
        size="20"
        style="display: flex; justify-content: center; align-items: center"
      ></ng-icon>
    </button>
  </div>
</form>
